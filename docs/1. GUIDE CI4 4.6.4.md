# ðŸ“˜ ConfiguraciÃ³n Inicial de CodeIgniter 4.6.4

Este documento cubre la **configuraciÃ³n base de un proyecto CodeIgniter 4.6.4** segÃºn la documentaciÃ³n oficial del framework. Cada secciÃ³n incluye la ubicaciÃ³n del archivo, la propiedad a modificar y ejemplos tÃ©cnicos Ãºtiles.

DocumentaciÃ³n de referencia: GuÃ­a de usuario CodeIgniter 4.6.4 ([CodeIgniter 4][1])

---

## ðŸ§© 1. BaseURL

**PropÃ³sito:** define la URL base usada para generar enlaces y rutas en helpers y en el sistema de routing.

**Archivo:** `app/Config/App.php`

```php
public string $baseURL = 'https://midominio.com/';
```

**Notas:**

-   Siempre debe finalizar con `/`.
-   Si no se configura correctamente, el _debug toolbar_ puede no cargar o URLs generadas con helpers (`site_url()`, `base_url()`) pueden apuntar mal. ([CodeIgniter 4][1])

**Alternativa:** configurar dinÃ¡micamente desde el `.env`:

```env
app.baseURL = 'https://midominio.com/'
```

---

## ðŸ•‘ 2. Zona Horaria (Time Zone)

**PropÃ³sito:** establecer la zona horaria por defecto que el framework usarÃ¡ para operaciones de fecha/hora.

**Archivo:** `app/Config/App.php`

```php
public string $appTimezone = 'UTC';
```

**Ejemplo para Managua:**

```php
public string $appTimezone = 'America/Managua';
```

**CÃ³mo funciona:**

-   CI4 utiliza esta propiedad para la clase `Time` basada en `DateTimeImmutable`. ([CodeIgniter 4][2])
-   Puedes forzar PHP al mismo valor en `BaseController::initController()` si requieres que funciones nativas de PHP tambiÃ©n usen la zona:

```php
date_default_timezone_set('America/Managua');
```

---

## ðŸ§­ 3. indexPage

**PropÃ³sito:** define si el framework usarÃ¡ `index.php` dentro de las URLs generadas (URLs limpias vs con index.php).

**Archivo:** `app/Config/App.php`

```php
public string $indexPage = '';
```

**Consideraciones:**

-   Dejar vacÃ­o (`''`) permite **URLs limpias** sin `index.php`.
-   Para que funcione sin `index.php` debes habilitar **mod_rewrite** en tu servidor y configurar `.htaccess` correctamente. ([CodeIgniter 4][1])
-   Si no se puede usar rewrite, mantenlo en `'index.php'`.

---

## ðŸ›£ 4. URI Protocol y Configs Relacionados

**PropÃ³sito:** asegurar que el servidor provee la variable correcta para routing.

**Archivo:** `app/Config/App.php`

```php
public string $uriProtocol = 'REQUEST_URI';
```

**Notas:**

-   Ajustar aquÃ­ puede solucionar problemas en servidores donde `REQUEST_URI` no estÃ¡ disponible. ([CodeIgniter 4][3])

---

## ðŸ§± 5. ConfiguraciÃ³n de Entorno

**Archivo:** `.env`

```env
CI_ENVIRONMENT = development
```

**Efectos:**

-   Muestra errores con _Whoops!_ durante desarrollo.
-   En producciÃ³n debe cambiarse a `production` para ocultar trazas y activar mejores prÃ¡cticas de seguridad. ([CodeIgniter 4][1])

---

## âš ï¸ 6. override404 â€” PÃ¡gina 404 Personalizada

### A) MÃ©todo recomendado: `/app/Config/Routes.php`

```php
$routes->set404Override(function () {
    return view('errors/custom_404');
});
```

o usando un controlador especÃ­fico:

```php
$routes->set404Override('App\Controllers\MyErrors::show404');
```

**CÃ³mo funciona:**

-   Este mÃ©todo permite interceptar errores 404 y devolver una vista o lÃ³gica propia. ([Stack Overflow][4])

### B) Alternativa: Config en `Routing.php`

Algunas versiones de CI4 exponen tambiÃ©n:

```php
public ?string $override404 = '\App\Controllers\CustomErrors::show404';
```

---

## ðŸ—„ 7. Routing BÃ¡sico

**Archivo:** `app/Config/Routes.php`

```php
$routes->get('/', 'Home::index');
```

**AutoRouting:**

-   AutoRouting mejorado estÃ¡ disponible y permite que el framework determine controlador mÃ©todo segÃºn URI. ([CodeIgniter 4][5])

---

## ðŸ§  8. Database â€” ConexiÃ³n Inicial

**Archivo:** `app/Config/Database.php` o `.env`

```env
database.default.hostname = localhost
database.default.database = mi_db
database.default.username = usuario
database.default.password = secreto
database.default.DBDriver = MySQLi
```

---

## ðŸ“¦ 9. Autoload y PSR-4

**Archivo:** `app/Config/Autoload.php`

```php
public $psr4 = [
    'App'      => APPPATH,
    'Config'   => APPPATH . 'Config',
    // otros namespaces
];
```

Asegura autoload de controllers, models, services, etc. ([CodeIgniter 4][6])

---

## ðŸ“œ 10. Permisos de Carpetas

Asegura que `writable/` sea **escribible** por el servidor para logs, cachÃ© y sesiones. ([CodeIgniter 4][1])

---

# ðŸ“Œ Resumen de Propiedades Comunes

| ConfiguraciÃ³n            | Archivo                      | Variable / Ejemplo   |
| ------------------------ | ---------------------------- | -------------------- |
| Base URL                 | `App.php` / `.env`           | `app.baseURL`        |
| Time Zone                | `App.php`                    | `$appTimezone`       |
| index.php inclusion      | `App.php`                    | `$indexPage`         |
| URI Protocol             | `App.php`                    | `$uriProtocol`       |
| Environment              | `.env`                       | `CI_ENVIRONMENT`     |
| Custom 404 page override | `Routes.php` / `Routing.php` | `set404Override`     |
| Database config          | `Database.php` / `.env`      | `database.default.*` |
| Autoload namespaces      | `Autoload.php`               | `$psr4`              |

---

Si quieres, puedo generar **plantillas de configuraciÃ³n completas** (App.php + .env + Routes.php base) listas para producciÃ³n y desarrollo, asÃ­ como un ejemplo de `.htaccess` para URLs limpias.

[1]: https://codeigniter4.github.io/userguide/installation/running.html?utm_source=chatgpt.com "Running Your App â€” CodeIgniter 4.6.4 documentation"
[2]: https://codeigniter4.github.io/userguide/libraries/time.html?utm_source=chatgpt.com "Times and Dates â€” CodeIgniter 4.6.4 documentation"
[3]: https://codeigniter4.github.io/userguide/installation/troubleshooting.html?utm_source=chatgpt.com "Troubleshooting â€” CodeIgniter 4.6.4 documentation"
[4]: https://stackoverflow.com/questions/61525214/how-to-custom-404-page-not-found-in-codeigniter-4?utm_source=chatgpt.com "How to Custom 404 Page Not Found in CodeIgniter 4"
[5]: https://codeigniter4.github.io/userguide/incoming/routing.html?utm_source=chatgpt.com "URI Routing â€” CodeIgniter 4.6.4 documentation"
[6]: https://codeigniter4.github.io/userguide/index.html?utm_source=chatgpt.com "CodeIgniter4 User Guide â€” CodeIgniter 4.6.4 documentation"
